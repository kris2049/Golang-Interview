# 文件合并程序

## 背景

在面试中，要求实现一个程序，读取多个文本文件中的大量数据（可能有几十万行甚至上百万行），并将其写入到一个目标文件中。

## 实现思路

1. **基本结构**：
   - 使用两个嵌套的 `for` 循环：
     - 外层循环遍历输入文件列表。
     - 内层循环逐行读取当前文件的内容，并将其写入目标文件。

2. **性能优化**：
   - 初步想法是通过协程并行处理文件读取，但会遇到写冲突问题。

3. **优化后的方案**：
   - 使用一个 `for` 循环遍历输入文件，每个输入文件在单独的协程中处理。
   - 采用 `sync.WaitGroup` 来确保所有协程完成任务。
   - 使用 `sync.Mutex` 对写入操作进行加锁，防止写冲突。

## 执行结果

- 优化前的执行耗时约为 **520.8µs**。
- 优化后的执行耗时约为 **0s**。

## 结论

通过使用协程和同步机制，大幅提升了程序的性能，实现了高效的数据读取和写入。

